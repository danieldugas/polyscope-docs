



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-\.::]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Data Adaptors - Polyscope</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:300,400,400i,700|Inconsolata&display=fallback">
        <style>body,input{font-family:"PT Serif","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Inconsolata","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../extras.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-58346315-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#fixed-size-vector-types" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Polyscope" class="md-header-nav__button md-logo">
          
            <i class="md-icon">home</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Polyscope
            </span>
            <span class="md-header-nav__topic">
              
                Data Adaptors
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/nmwsharp/polyscope" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nmwsharp/polyscope
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Polyscope" class="md-nav__button md-logo">
      
        <i class="md-icon">home</i>
      
    </a>
    Polyscope
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/nmwsharp/polyscope" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    nmwsharp/polyscope
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/release_notes/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/bindings/" title="Bindings" class="md-nav__link">
      Bindings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/contributors/" title="Contributors" class="md-nav__link">
      Contributors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../building/" title="Building" class="md-nav__link">
      Building
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Basics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Basics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../basics/initializing/" title="Initializing" class="md-nav__link">
      Initializing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../basics/program_options/" title="Program Options" class="md-nav__link">
      Program Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../basics/scene_options/" title="Scene Options" class="md-nav__link">
      Scene Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../basics/camera_controls/" title="Camera Controls" class="md-nav__link">
      Camera Controls
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Data Adaptors
      </label>
    
    <a href="./" title="Data Adaptors" class="md-nav__link md-nav__link--active">
      Data Adaptors
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fixed-size-vector-types" title="Fixed size vector types" class="md-nav__link">
    Fixed size vector types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-size" title="Array size" class="md-nav__link">
    Array size
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_1" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_1" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scalar-arrays" title="Scalar arrays" class="md-nav__link">
    Scalar arrays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_2" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_2" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrays-of-vectors" title="Arrays of vectors" class="md-nav__link">
    Arrays of vectors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_3" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_3" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-arrays" title="Nested arrays" class="md-nav__link">
    Nested arrays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_4" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_4" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging" title="Debugging" class="md-nav__link">
    Debugging
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../features/messages/" title="Messages" class="md-nav__link">
      Messages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/screenshots/" title="Screenshots" class="md-nav__link">
      Screenshots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/user_callback/" title="User Callback" class="md-nav__link">
      User Callback
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/2D_data/" title="2D Data" class="md-nav__link">
      2D Data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Structures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Structures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/structure_management/" title="Structure Management" class="md-nav__link">
      Structure Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      Point Cloud
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Point Cloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/point_cloud/basics/" title="Basics" class="md-nav__link">
      Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/point_cloud/scalar_quantities/" title="Scalar Quantities" class="md-nav__link">
      Scalar Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/point_cloud/color_quantities/" title="Color Quantities" class="md-nav__link">
      Color Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/point_cloud/vector_quantities/" title="Vector Quantities" class="md-nav__link">
      Vector Quantities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Surface Mesh
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Surface Mesh
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/basics/" title="Basics" class="md-nav__link">
      Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/scalar_quantities/" title="Scalar Quantities" class="md-nav__link">
      Scalar Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/color_quantities/" title="Color Quantities" class="md-nav__link">
      Color Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/distance_quantities/" title="Distance Quantities" class="md-nav__link">
      Distance Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/vector_quantities/" title="Vector Quantities" class="md-nav__link">
      Vector Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/parameterization_quantities/" title="Parameterization Quantities" class="md-nav__link">
      Parameterization Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/count_quantities/" title="Count Quantities" class="md-nav__link">
      Count Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/misc_quantities/" title="Misc Quantities" class="md-nav__link">
      Misc Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/surface_mesh/indexing_convention/" title="Indexing Convention" class="md-nav__link">
      Indexing Convention
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      Curve Network
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        Curve Network
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/curve_network/basics/" title="Basics" class="md-nav__link">
      Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/curve_network/scalar_quantities/" title="Scalar Quantities" class="md-nav__link">
      Scalar Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/curve_network/color_quantities/" title="Color Quantities" class="md-nav__link">
      Color Quantities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../structures/curve_network/vector_quantities/" title="Vector Quantities" class="md-nav__link">
      Vector Quantities
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../integrations/geometry_central/" title="Geometry Central" class="md-nav__link">
      Geometry Central
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integrations/libIGL/" title="libIGL" class="md-nav__link">
      libIGL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integrations/DGtal/" title="DGtal" class="md-nav__link">
      DGtal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fixed-size-vector-types" title="Fixed size vector types" class="md-nav__link">
    Fixed size vector types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-size" title="Array size" class="md-nav__link">
    Array size
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_1" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_1" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scalar-arrays" title="Scalar arrays" class="md-nav__link">
    Scalar arrays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_2" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_2" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrays-of-vectors" title="Arrays of vectors" class="md-nav__link">
    Arrays of vectors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_3" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_3" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-arrays" title="Nested arrays" class="md-nav__link">
    Nested arrays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hierarchy_4" title="Hierarchy" class="md-nav__link">
    Hierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending_4" title="Extending" class="md-nav__link">
    Extending
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging" title="Debugging" class="md-nav__link">
    Debugging
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Data Adaptors</h1>
                
                <p>Polyscope is designed as a lightweight general-purpose 3D visualization library. But there&rsquo;s a problem, because different codebases uses different C++ types to store their data: is an array of scalars a <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">double</span><span class="o">&gt;</span></code> or an <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">VectorXf</span></code> or some other internal type? Codebases for 3D geometry are particularly guilty of this: there are probably several hundred distinct 3D vector x-y-z classes floating around github.</p>
<p>Rather than forcing the user to manually convert their data types to some Polyscope types, we implement a series of templated <em>adaptor</em> functions, which attempt to read from the user types via a common set of strategies. These adaptors are applied to the inputs to nearly all Polyscope functions, allowing them to automatically accept user-defined types as inputs.</p>
<p><strong>You don&rsquo;t need to do anything special to use these adaptors!</strong> They are applied internally to the arguments of nearly every Polyscope function, like the <code class="codehilite"><span class="n">vertices</span></code> and <code class="codehilite"><span class="n">faces</span></code> arguments of <code class="codehilite"><span class="n">registerSurfaceMesh</span><span class="p">(</span><span class="ss">&quot;name&quot;</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">)</span></code>. This section outlines how the adaptors will try to read from your data, and how to extend them for unusual datatypes which are not automatically handled.</p>
<p>These functions live in <code class="codehilite">#<span class="k">include</span> <span class="s2">&quot;</span><span class="s">polyscope/standardize_data_array.h</span><span class="s2">&quot;</span></code>. It&rsquo;s fairly well-commented&mdash;<a href="https://github.com/nmwsharp/polyscope/blob/master/include/polyscope/standardize_data_array.h">check it out</a> to see how all this works under the hood!</p>
<hr />
<h2 id="fixed-size-vector-types">Fixed size vector types</h2>
<p>These are 2D or 3D vectors whose size are known at compile time, commonly used to represent things like positions (3D), or UV coordinates (2D).</p>
<p>Examples of 3D vector types that Polyscope can read from out of the box include <code class="codehilite"><span class="n">glm</span><span class="p">::</span><span class="n">vec3</span></code>, <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">Vector3d</span></code>, and <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="nb">array</span><span class="o">&lt;</span><span class="n">double</span><span class="p">,</span> <span class="mi">3</span><span class="o">&gt;</span></code> (likewise for 2D).</p>
<h4 id="hierarchy">Hierarchy</h4>
<p>Polyscope will attempt to access an <strong>input 2D vector</strong> in the following ways, in order of decreasing precedence:</p>
<ul>
<li>any user-defined function (see below)</li>
<li>bracketed indices (like <code class="codehilite"><span class="n">vec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></code> and <code class="codehilite"><span class="n">vec</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></code>)</li>
<li>members <code class="codehilite"><span class="n">x</span></code>,<code class="codehilite"><span class="n">y</span></code> (like <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">x</span></code> and <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">y</span></code>)</li>
<li>members <code class="codehilite"><span class="n">u</span></code>,<code class="codehilite"><span class="n">v</span></code> (like <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">u</span></code> and <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">v</span></code>)</li>
<li>members functions <code class="codehilite"><span class="nb">real</span><span class="p">()</span></code>/<code class="codehilite"><span class="n">imag</span><span class="p">()</span></code> (like <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="nb">real</span><span class="p">()</span></code> and <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">imag</span><span class="p">()</span></code>)</li>
</ul>
<p>Polyscope will attempt to access an <strong>input 3D vector</strong> in the following ways, in order of decreasing precedence:</p>
<ul>
<li>any user-defined function (see below)</li>
<li>bracketed indices (like <code class="codehilite"><span class="n">vec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></code>, <code class="codehilite"><span class="n">vec</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></code>, and <code class="codehilite"><span class="n">vec</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></code>)</li>
<li>members <code class="codehilite"><span class="n">x</span></code>,<code class="codehilite"><span class="n">y</span></code>,<code class="codehilite"><span class="n">z</span></code> (like <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">x</span></code>, <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">y</span></code>, and <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">z</span></code>)</li>
</ul>
<details class="warning"><summary>using Eigen fixed-size vectorizable types</summary><p>If you are using <strong>fixed-sized, vectorizable</strong> Eigen types like <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">Vector2f</span></code> and <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">Vector4f</span></code> as your 2D/3D vector types, there are special, tricky alignment rules imposed by Eigen which must be respected.  For instance, a <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="p">::</span><span class="n">Vector2f</span><span class="o">&gt;</span></code> is <em>not</em> a valid type; using it will lead to tricky-to-debug segfaults.</p>
<p>Polyscope makes a best effort to avoid problems when the caller&rsquo;s fixed vector type has alignment constraints, but beware&mdash;these are dangerous waters.</p>
<p>See Eigen&rsquo;s documentation <a href="https://eigen.tuxfamily.org/dox-devel/group__TopicPassingByValue.html">here</a> and <a href="https://eigen.tuxfamily.org/dox-devel/group__TopicStlContainers.html">here</a> for more information.</p>
</details>
<details class="note"><summary>extending vector access</summary><h4 id="extending">Extending</h4>
<p>Suppose you have an in-house vector type which cannot be accessed by any strategy in the hierarchy above. You can define a custom function that accesses the elements of your type:
<div class="codehilite"><pre><span></span><span class="n">YOUR_TYPES_SCALAR</span> <span class="nf">adaptorF_custom_accessVector2Value</span><span class="p">(</span><span class="k">const</span> <span class="n">YOUR_TYPE</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ind</span><span class="p">);</span>
</pre></div>
The array adaptors will pick up this function and use it to access your type.</p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="c1">// A vector2 type with unusual access</span>
<span class="k">struct</span> <span class="n">UserVector2Custom</span> <span class="p">{</span>
  <span class="kt">double</span> <span class="n">foo</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">bar</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Define an accessor to teach Polyscope to read from your type</span>
<span class="kt">double</span> <span class="nf">adaptorF_custom_accessVector2Value</span><span class="p">(</span><span class="k">const</span> <span class="n">UserVector2Custom</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ind</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">ind</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">v</span><span class="p">.</span><span class="n">foo</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">ind</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">v</span><span class="p">.</span><span class="n">bar</span><span class="p">;</span>
  <span class="k">throw</span> <span class="n">std</span><span class="o">::</span><span class="n">logic_error</span><span class="p">(</span><span class="s">&quot;bad access&quot;</span><span class="p">);</span>
  <span class="k">return</span> <span class="o">-</span><span class="mf">1.</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Now Polyscope functions can take this type as input!</span>
</pre></div></p>
<p>The same principle applies for 3D vectors, where the relevant function is named
<div class="codehilite"><pre><span></span><span class="n">YOUR_TYPES_SCALAR</span> <span class="nf">adaptorF_custom_accessVector3Value</span><span class="p">(</span><span class="k">const</span> <span class="n">YOUR_TYPE</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ind</span><span class="p">);</span>
</pre></div></p>
</details>
<hr />
<h2 id="array-size">Array size</h2>
<p>The three array adaptor variants below (scalar array, vector array, and nested array) all assume the ability to read the size of an input array. </p>
<h4 id="hierarchy_1">Hierarchy</h4>
<p>Polyscope will attempt to read the length of an input array in the following ways, in decreasing order of precedence:</p>
<ul>
<li>any user-defined function (see below)</li>
<li>a <code class="codehilite"><span class="na">.rows</span><span class="p">()</span></code> member function (like <code class="codehilite"><span class="n">inputData</span><span class="p">.</span><span class="k">rows</span><span class="p">()</span></code>)</li>
<li>a <code class="codehilite"><span class="na">.size</span><span class="p">()</span></code> member function (like <code class="codehilite"><span class="n">inputData</span><span class="p">.</span><span class="k">size</span><span class="p">()</span></code>)</li>
</ul>
<details class="note"><summary>extending array size</summary><h4 id="extending_1">Extending</h4>
<p>Suppose you have an in-house array type whose length cannot be read by any strategy in the hierarchy above. You can define a custom function that reads the length like:
<div class="codehilite"><pre><span></span><span class="kt">size_t</span> <span class="nf">adaptorF_custom_size</span><span class="p">(</span><span class="k">const</span> <span class="n">YOUR_ARRAY_TYPE</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">);</span>
</pre></div>
The array adaptors will pick up this function and use it to access your type.</p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="c1">// Array with custom length function called &quot;bigness()&quot;</span>
<span class="k">struct</span> <span class="n">UserArray</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">myData</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="nf">bigness</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">myData</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Size function for custom array</span>
<span class="kt">size_t</span> <span class="nf">adaptorF_custom_size</span><span class="p">(</span><span class="k">const</span> <span class="n">UserArray</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">c</span><span class="p">.</span><span class="n">bigness</span><span class="p">();</span> <span class="p">}</span>
</pre></div></p>
</details>
<hr />
<h2 id="scalar-arrays">Scalar arrays</h2>
<p>A scalar array is a long list of values, like a <code class="codehilite"><span class="nb">float</span></code> at each point in a point cloud, or an <code class="codehilite"><span class="nb">int</span></code> at each vertex of a mesh. We will use the type <code class="codehilite"><span class="n">S</span></code> to refer to the inner scalar type of an array, like <code class="codehilite"><span class="nb">float</span></code> in <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span></code>.</p>
<p>Examples of scalar arrays that Polyscope can read from out of the box include <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span></code>, <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">VectorXd</span></code>, and <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">list</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span></code>.</p>
<h4 id="hierarchy_2">Hierarchy</h4>
<p>Polyscope will attempt to access an input scalar array in the following ways, in order of decreasing precedence:</p>
<ul>
<li>any user-defined function (see below)</li>
<li>bracketed index access (like <code class="codehilite"><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"></span></code>)</li>
<li>parenthesis index access (like <code class="codehilite"><span class="nb">array</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></code>)</li>
<li>for-each iteration (like <code class="codehilite"><span class="nb">array</span><span class="p">.</span><span class="k">begin</span><span class="p">()</span></code>, <code class="codehilite"><span class="nv">array</span>.<span class="k">end</span><span class="ss">()</span></code>)</li>
</ul>
<details class="note"><summary>extending scalar array access</summary><h4 id="extending_2">Extending</h4>
<p>Suppose you have an in-house array type whose elements cannot be accessed by any strategy in the hierarchy above. You can define a custom function that converts your arrays to a <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span></code> like
<div class="codehilite"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">YOUR_SCALAR_TYPE</span><span class="o">&gt;</span> <span class="n">adaptorF_custom_convertToStdVector</span><span class="p">(</span><span class="k">const</span> <span class="n">YOUR_ARRAY_TYPE</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</pre></div>
The array adaptors will pick up this function and use it to access your type.</p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="c1">// User array with unusual access</span>
<span class="k">struct</span> <span class="n">UserArrayFuncAccess</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">myData</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="nf">size</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">myData</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">adaptorF_custom_convertToStdVector</span><span class="p">(</span><span class="k">const</span> <span class="n">UserArrayFuncAccess</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">out</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">c</span><span class="p">.</span><span class="n">myData</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">out</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></p>
</details>
<hr />
<h2 id="arrays-of-vectors">Arrays of vectors</h2>
<p>These are arrays of values where each element of the array is itself a fixed-size vector type, like the 3D position of each point in a point cloud, or a list of edges in a graph. Note that these arrays must have an inner dimension which is fixed and known at compile time.</p>
<p>Examples of vector arrays that Polyscope can read from out of the box include <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">glm</span><span class="p">::</span><span class="n">vec3</span><span class="o">&gt;</span></code>, <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">Matrx</span><span class="o">&lt;</span><span class="n">N</span><span class="p">,</span><span class="mi">3</span><span class="o">&gt;</span></code>, and <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">std</span><span class="p">::</span><span class="nb">array</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">,</span><span class="mi">2</span><span class="o">&gt;&gt;</span></code>.</p>
<h4 id="hierarchy_3">Hierarchy</h4>
<p>Polyscope will attempt to access an input array of vectors in the following ways, in order of decreasing precedence:</p>
<ul>
<li>any user-defined function (see below)</li>
<li>dense parenthesis access (like <code class="codehilite"><span class="nb">array</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span></code>)</li>
<li>double bracket access (like <code class="codehilite"><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span><span class="w"></span></code>)</li>
<li>outer type bracket-accessible, inner type anything convertible to Vector2/3 (like <code class="codehilite"><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">x</span><span class="w"></span></code>)</li>
<li>outer type iterable, inner type anything convertible to Vector2/3 (like <code class="codehilite"><span class="k">for</span><span class="ss">(</span><span class="nv">auto</span> <span class="nv">vec</span> : <span class="nv">array</span><span class="ss">)</span></code> and <code class="codehilite"><span class="n">vec</span><span class="p">.</span><span class="n">u</span></code>).</li>
<li>outer type iterable, inner type bracket-accessible (like <code class="codehilite"><span class="k">for</span><span class="ss">(</span><span class="nv">auto</span> <span class="nv">vec</span> : <span class="nv">array</span><span class="ss">)</span></code> and <code class="codehilite"><span class="n">vec</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span></code>)</li>
</ul>
<p>Notice that two these options make use of the <a href="#fixed-size-vector-types">fixed-sized vector adaptors</a>. Once Polyscope can read the elements of <code class="codehilite"><span class="n">SOME_VEC3_TYPE</span></code>, it can also read from <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">SOME_VEC3_TYPE</span><span class="o">&gt;</span></code>, etc.</p>
<p>The sizes of the inner vector type are generally not checked by Polyscope, so be sure you&rsquo;re passing in something with the right dimensions! If a function expects an array of 3D vectors, don&rsquo;t give it an array of 2D vectors.</p>
<details class="note"><summary>extending array-of-vectors access</summary><h4 id="extending_3">Extending</h4>
<p>Suppose you have an in-house array-of-vectors type whose elements cannot be accessed by any strategy in the hierarchy above. You can define a custom function that converts your arrays to a <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span></code> like
<div class="codehilite"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">SCALAR_T</span><span class="p">,</span><span class="n">N</span><span class="o">&gt;&gt;</span> <span class="n">adaptorF_custom_convertArrayOfVectorToStdVector</span><span class="p">(</span><span class="k">const</span> <span class="n">YOUR_ARRAY_TYPE</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span> 
</pre></div>
The array adaptors will pick up this function and use it to access your type. Really, the return type of this method can anything that supports <code class="codehilite"><span class="na">.size</span><span class="p">()</span></code> and bracket access; <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;&gt;&gt;</span></code> would also work. 
The size of the inner vector is not checked, so be sure it&rsquo;s right!</p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="c1">// An array of vectors with an unusual access scheme</span>
<span class="k">struct</span> <span class="n">UserArrayVectorCustom</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">SOME_TYPE</span><span class="o">&gt;</span> <span class="n">vals</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="nf">size</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">vals</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Define a custom access function</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span> <span class="mi">3</span><span class="o">&gt;&gt;</span>
<span class="n">adaptorF_custom_convertArrayOfVectorToStdVector</span><span class="p">(</span><span class="k">const</span> <span class="n">UserArrayVectorCustom</span><span class="o">&amp;</span> <span class="n">inputData</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span> <span class="mi">3</span><span class="o">&gt;&gt;</span> <span class="n">out</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">v</span> <span class="p">:</span> <span class="n">inputData</span><span class="p">.</span><span class="n">vals</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">out</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">v</span><span class="p">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">z</span><span class="p">()});</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></p>
</details>
<hr />
<h2 id="nested-arrays">Nested arrays</h2>
<p>These are arrays-of-arrays, like the list of vertex indices for each face in a polygon mesh. Unlike the arrays-of-vectors above, the dimensions of the inner arrays need not be known at compile time, and can vary (though arrays with fixed-sized inner dimension are also valid input).</p>
<p>Examples of vector arrays that Polyscope can read from out of the box include <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;&gt;</span></code>, <code class="codehilite"><span class="n">Eigen</span><span class="p">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">double</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="mi">3</span><span class="o">&gt;</span></code>, and <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="p">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">size_t</span><span class="o">&gt;&gt;</span></code>.</p>
<h4 id="hierarchy_4">Hierarchy</h4>
<p>Polyscope will attempt to access a nested array in the following ways, in order of decreasing precedence:</p>
<ul>
<li>any user defined function</li>
<li>dense callable (parenthesis) access on a type that supports <code class="codehilite"><span class="nb">array</span><span class="p">.</span><span class="k">rows</span><span class="p">()</span></code> and <code class="codehilite"><span class="nb">array</span><span class="p">.</span><span class="n">cols</span><span class="p">()</span></code> (like <code class="codehilite"><span class="nb">array</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span></code>).</li>
<li>outer type bracket-accessible, inner type anything that can be accessed as a scalar array (like <code class="codehilite"><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span><span class="w"></span></code>)</li>
<li>outer type parenthesis-accessible, inner type anything that can be accessed as a scalar array (like <code class="codehilite"><span class="k">array</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"></span></code>)</li>
<li>outer type iterable, inner type anything that can be accessed as a scalar array (like <code class="codehilite"><span class="k">for</span><span class="ss">(</span><span class="nv">auto</span> <span class="nv">inner</span> : <span class="nv">array</span><span class="ss">)</span></code> and <code class="codehilite"><span class="k">inner</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span></code>).</li>
</ul>
<p>Notice that several of these options make use of the <a href="#scalar-arrays">scalar array adaptors</a>. Once Polyscope can read from <code class="codehilite"><span class="n">YOUR_ARRAY</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span></code>, it can also read from <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">YOUR_ARRAY</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;&gt;</span></code>, etc.</p>
<details class="note"><summary>extending nested array access</summary><h4 id="extending_4">Extending</h4>
<p>Suppose you have an in-house nested array type whose elements cannot be accessed by any strategy in the hierarchy above. You can define a custom function that converts your arrays to a <code class="codehilite"><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;&gt;</span></code> like
<div class="codehilite"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;&gt;</span> <span class="n">adaptorF_custom_convertNestedArrayToStdVector</span><span class="p">(</span><span class="k">const</span> <span class="n">YOUR_NESTED_ARRAY</span><span class="o">&amp;</span> <span class="n">inputData</span><span class="p">)</span> <span class="p">{</span>
</pre></div>
The array adaptors will pick up this function and use it to access your type. </p>
<p>Example:
<div class="codehilite"><pre><span></span><span class="c1">// A nested list type with unusual access</span>
<span class="k">struct</span> <span class="n">UserNestedListCustom</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">vals</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="nf">size</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">vals</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">adaptorF_custom_convertNestedArrayToStdVector</span><span class="p">(</span><span class="k">const</span> <span class="n">UserNestedListCustom</span><span class="o">&amp;</span> <span class="n">inputData</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">out</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">v</span> <span class="p">:</span> <span class="n">inputData</span><span class="p">.</span><span class="n">vals</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">inner</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">x</span> <span class="p">:</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">inner</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">out</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">inner</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></p>
</details>
<hr />
<h2 id="debugging">Debugging</h2>
<p>One downside to our &ldquo;clever&rdquo; use of templates is that compiler error messages can be borderline incomprehensible. Generally, the best debugging strategy is to carefully read the documentation and ensure you are passing in data that makes sense. In most cases, the problem is something simple, like passing a 3D vector where a 2D vector is needed, or mixing up the order of arguments.</p>
<p>However, if you are deep in the weeds trying to debug why your type isn&rsquo;t matching against the template hierarchy (or why a custom function isn&rsquo;t being used), consider adding the define
<div class="codehilite"><pre><span></span><span class="cp">#define POLYSCOPE_NO_STANDARDIZE_FALLTHROUGH</span>
</pre></div>
anywhere before the Polyscope includes. This will cause most compilers to print the long scary list of all template substitutions which were considered and rejected, which you can slowly parse to aid you on your quest.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../basics/camera_controls/" title="Camera Controls" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Camera Controls
              </span>
            </div>
          </a>
        
        
          <a href="../features/messages/" title="Messages" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Messages
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>